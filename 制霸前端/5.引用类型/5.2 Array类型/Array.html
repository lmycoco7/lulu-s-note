<!--
    ECMAScript 数组的每一项可以保存任何类型的数据
    创建数组有两种方式
    length属性：可写
    检测数组  instanceof  Array.isArray(zky);
    转换方法  toLocaleString() toString() valueOf()  join()
-->
<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script>
    //创建数组有两种方式
    //Array构造函数方式
    var a= "aa";
    var color = new Array();   //可以省略操作符 new
    console.log(color);
    var color1 = new Array(3);  //length =3;
    console.log(color1);
    var color2 = new Array("3"); //length = 1;
    console.log(color2);
    //数组字面量表示法
    var color3 = ["1","2",];  // 1， 2
    console.log(color3);
    var color4 = [,,,,];   //空数组
    console.log(color4);
    var number = [1,2,3];
    number[9] = 10;    //添加数组中的一项
    console.log(number);
    number.length=2;
    console.log(number);
    number.length=3;
    console.log(number[2]);
    var number1 = [1,2,3];
    number1[number1.length]=4;
    console.log(number1);
    //检测数组（instanceof在多个环境不好用）
    console.log(number1 instanceof Array);
    //检测数组专用 Array.isArray()
    console.log(Array.isArray(number1));
    //转换方法： toLocaleString() toString() valueOf()  join()
    var number2 = [1,2,3,4,5];
    console.log(number2.toLocaleString());
    console.log(number2.toString());
    console.log(number2.valueOf());
    console.log(number2.join("|"));  //join()方法用于把数组中的所有元素放入一个字符串，用分隔符分隔，无参数或undefined就是逗号。
    //栈方法 push() pop()
    //后进先出 LIFO   栈数据结构
    //push() 接受任意多个参数，全部添加到数组末尾，返回新长度。
    console.log(number2.push(6,7));  //7
    console.log(number2); //[1,2,3,4,5,6,7]
    //pop() 移除末尾一项，返回移除的项。
    console.log(number2.pop());   //7
    console.log(number2); //[1,2,3,4,5,6]
    //队列方法 push() shift()   反向队列 unshift() pop()
    //先进先出 FIFO  队列数据结构
    //shift() 移除第一项并返回。
    console.log(number2.shift());  //1
    console.log(number2);   //[2,3,4,5,6]
    //unshift() 接受任意多个参数，全部添加到数组前端，返回新长度。
    console.log(number2.unshift(0,1));  //7
    console.log(number2);  //[0,1,2,3,4,5,6]
    //重排序方法 reverse()  sort()
    //reverse()  反转数组项的顺序
    console.log(number2.reverse()); //[6, 5, 4, 3, 2, 1, 0]
    console.log(number2);  //[6, 5, 4, 3, 2, 1, 0]
    //sort() 升序排列（先调用每一项的toString方法，用得到的字符串比较，即比较编码顺序）
    console.log(number2.sort());//[0, 1, 2, 3, 4, 5, 6]
    console.log(number2);
    var number3 = [0,1,5,10,15];
    console.log(number3.sort()); //[0, 1, 10, 15, 5]  按字符编码排序
    //若要按照数字顺序：就需要提供比较函数，该函数要比较两个值，然后返回一个用于说明这两个值的相对顺序的数字。比较函数应该具有两个参数 a 和 b，其返回值如下：
    //    若 a 小于 b，在排序后的数组中 a 应该出现在 b 之前，则返回一个小于 0 的值。
    //    若 a 等于 b，则返回 0。
    //    若 a 大于 b，则返回一个大于 0 的值。
    function sortNumber(a,b){
        return a-b;
    }
    console.log(number3.sort(sortNumber)); //[0, 1, 5, 10, 15]   注意：参数是函数名
    console.log(number3);//[0, 1, 5, 10, 15]
    //操作办法  concat() slice() splice()
    //concat()   连接数组中的每一项（相加）   返回新数组，不改变原数组
    var book1 = [1,2,3];
    var book2 = [4,5];
    var book3 = [6];
    console.log(book1.concat(book2,book3)); //[1,2,3,4,5,6]
    console.log(book1);  //[1,2,3]
    //slice()  截取数组  第一个参数：起始位置 第二个（可选，不选即到末尾）：结束位置(不包含该位置)  返回截取后的数组，不改变原数组
    var book4 = [1,2,3,4,5,6,7];
    console.log(book4.slice(0,3));  //[1,2,3]
    console.log(book4);
    console.log(book4.slice(-6,6)); //[2,3,4,5,6]  谁是负数谁就加数组长度
    //splice()  删除插入数组 第一个参数：起始位置  第二个参数：要删除的项数  以后的参数（可选）：要插入的数组项  返回删除的数组,会改变原数组
    var book5 = [1,2,3,4,5,6,7];
    console.log(book5.splice(0,2)); //[1,2]
    console.log(book5);  // [3,4,5,6,7]
    console.log(book5.splice(1,1,11,22,33,44));  //[4]
    console.log(book5);  //[3,11,22,33,44,5,6,7]
    console.log(book5.splice(7,0,[77,88]));  //[0]
    console.log(book5);  //[3,11,22,33,44,5,6,[77,88],7]
    //位置方法  indexOf()  lastIndexOf()    第一个参数：要查找的项  第二个参数（可选）：从某位置开始  返回位置，没找到返回 -1
    //使用全等操作符
    var book6 = [1,2,3,4,4,4,7,"zky"];
    console.log(book6.indexOf(4));  //3
    console.log(book6.indexOf(-4));  //-1
    console.log(book6.indexOf("zky"));  //7
    console.log(book6.lastIndexOf("zky"));  //7
    console.log(book6.lastIndexOf(4,4));  //4
    var person ={name:"zky"};
    var people = [{name:"zky"}];
    var person1 = [person];
    //！！！！注意：people[0]不等于person 因为两个变量是指向不同的堆内存，不同的指针指向不同的对象。
    console.log(people);
    console.log(person1);
    console.log(people.indexOf(person));  //-1
    console.log(person1.indexOf(person)); //0
    //迭代方法 every()  filter() forEach() map() some()
    //这些方法都对数组中的每一项运行给定函数
    //第一个参数：在每一项运行的函数（函数有3个参数：1.item ，2.index ，3.数组本身） 第二个参数（可选）：运行该函数的作用域
    //都不会对原数组产生变化
    //every() 运行的函数每一项都返回true，则返回true
    var book7 = [1,2,3,4,5,6,7,8];
    var every = book7.forEach(function(item,index,array){
        item=item+1;
        if(typeof item == "number"){
            return true;
        }
    });
    console.log(book7,every);
    //filter() 返回true的项组成的数组
    //forEach() 没有返回值
    //map()     返回对应数组，适合创建包含的项与另一个数组一一对应的数组
    //some()  运行的函数任一项都返回true，则返回true
    //归并方法   reduce()  reduceRight()  相反方向
    //第一个参数：在每一项运行的函数（4个参数：前一个值，当前值，索引，本数组） 第二个参数（可选）：初始值
    var reduce = book7.reduce(function(p,c,i,array){
        console.log(p,c,i,array);
        return p+c;
    },10);         //有初始值 即归并从索引为0开始，否则从1开始
    console.log(reduce);
</script>
</body>
</html>